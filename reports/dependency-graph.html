<!doctype html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>dependency graph</title>
    <style>
      .node:active path,
.node:hover path,
.node.current path,
.node:active polygon,
.node:hover polygon,
.node.current polygon {
  stroke: fuchsia;
  stroke-width: 2;
}

.edge:active path,
.edge:hover path,
.edge.current path,
.edge:active ellipse,
.edge:hover ellipse,
.edge.current ellipse {
  stroke: url(#edgeGradient);
  stroke-width: 3;
  stroke-opacity: 1;
}

.edge:active polygon,
.edge:hover polygon,
.edge.current polygon {
  stroke: fuchsia;
  stroke-width: 3;
  fill: fuchsia;
  stroke-opacity: 1;
  fill-opacity: 1;
}

.edge:active text,
.edge:hover text {
  fill: fuchsia;
}

.cluster path {
  stroke-width: 3;
}

.cluster:active path,
.cluster:hover path {
  fill: #ffff0011;
}

div.hint {
  background-color: #000000aa;
  color: white;
  font-family: Arial, Helvetica, sans-serif;
  border-radius: 1rem;
  position: fixed;
  top: calc(50% - 4em);
  right: calc(50% - 10em);
  border: none;
  padding: 1em 3em 1em 1em;
}

.hint button {
  position: absolute;
  font-weight: bolder;
  right: 0.6em;
  top: 0.6em;
  color: inherit;
  background-color: inherit;
  border: 1px solid currentColor;
  border-radius: 1em;
  margin-left: 0.6em;
}

.hint a {
  color: inherit;
}

#button_help {
  color: white;
  background-color: #00000011;
  border-radius: 1em;
  position: fixed;
  top: 1em;
  right: 1em;
  font-size: 24pt;
  font-weight: bolder;
  width: 2em;
  height: 2em;
  border: none;
}

#button_help:hover {
  cursor: pointer;
  background-color: #00000077;
}

@media print {
  #button_help {
    display: none;
  }

  div.hint {
    display: none;
  }
}

    </style>
  </head>
  <body>
    <button id="button_help">?</button>
    <div id="hints" class="hint" style="display: none">
      <button id="close-hints">x</button>
      <span id="hint-text"></span>
      <ul>
        <li><b>Hover</b> - highlight</li>
        <li><b>Right-click</b> - pin highlight</li>
        <li><b>ESC</b> - clear</li>
      </ul>
    </div>
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 10.0.1 (20240210.2158)
 -->
<!-- Title: dependency&#45;cruiser output Pages: 1 -->
<svg width="912pt" height="200pt"
 viewBox="0.00 0.00 912.25 200.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 196)">
<title>dependency&#45;cruiser output</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-196 908.25,-196 908.25,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_src</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M20,-8C20,-8 884.25,-8 884.25,-8 890.25,-8 896.25,-14 896.25,-20 896.25,-20 896.25,-172 896.25,-172 896.25,-178 890.25,-184 884.25,-184 884.25,-184 20,-184 20,-184 14,-184 8,-178 8,-172 8,-172 8,-20 8,-20 8,-14 14,-8 20,-8"/>
<text text-anchor="middle" x="452.12" y="-171.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">src</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_src/components</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M157,-16C157,-16 876.25,-16 876.25,-16 882.25,-16 888.25,-22 888.25,-28 888.25,-28 888.25,-146 888.25,-146 888.25,-152 882.25,-158 876.25,-158 876.25,-158 157,-158 157,-158 151,-158 145,-152 145,-146 145,-146 145,-28 145,-28 145,-22 151,-16 157,-16"/>
<text text-anchor="middle" x="516.62" y="-145.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">components</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_src/components/Counter</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M515.75,-38C515.75,-38 685.5,-38 685.5,-38 691.5,-38 697.5,-44 697.5,-50 697.5,-50 697.5,-108 697.5,-108 697.5,-114 691.5,-120 685.5,-120 685.5,-120 515.75,-120 515.75,-120 509.75,-120 503.75,-114 503.75,-108 503.75,-108 503.75,-50 503.75,-50 503.75,-44 509.75,-38 515.75,-38"/>
<text text-anchor="middle" x="600.62" y="-107.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">Counter</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_src/components/LocalCounter</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M165,-24C165,-24 483.75,-24 483.75,-24 489.75,-24 495.75,-30 495.75,-36 495.75,-36 495.75,-94 495.75,-94 495.75,-100 489.75,-106 483.75,-106 483.75,-106 165,-106 165,-106 159,-106 153,-100 153,-94 153,-94 153,-36 153,-36 153,-30 159,-24 165,-24"/>
<text text-anchor="middle" x="324.38" y="-93.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">LocalCounter</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_src/components/OperandButton</title>
<path fill="#ffffff" stroke="black" stroke-width="2" d="M717.5,-59C717.5,-59 868.25,-59 868.25,-59 874.25,-59 880.25,-65 880.25,-71 880.25,-71 880.25,-99 880.25,-99 880.25,-105 874.25,-111 868.25,-111 868.25,-111 717.5,-111 717.5,-111 711.5,-111 705.5,-105 705.5,-99 705.5,-99 705.5,-71 705.5,-71 705.5,-65 711.5,-59 717.5,-59"/>
<text text-anchor="middle" x="792.88" y="-98.45" font-family="Helvetica,sans-Serif" font-weight="bold" font-size="9.00">OperandButton</text>
</g>
<!-- src/App.tsx -->
<g id="node1" class="node">
<title>src/App.tsx</title>
<g id="a_node1"><a xlink:href="https://github.com/TakanoriOnuma/trial-dependency-cruiser/blob/main/src/App.tsx" xlink:title="App.tsx">
<path fill="#bbfeff" stroke="black" d="M131.08,-131.88C131.08,-131.88 88.92,-131.88 88.92,-131.88 85.96,-131.88 83,-128.92 83,-125.96 83,-125.96 83,-120.04 83,-120.04 83,-117.08 85.96,-114.12 88.92,-114.12 88.92,-114.12 131.08,-114.12 131.08,-114.12 134.04,-114.12 137,-117.08 137,-120.04 137,-120.04 137,-125.96 137,-125.96 137,-128.92 134.04,-131.88 131.08,-131.88"/>
<text text-anchor="start" x="95" y="-119.33" font-family="Helvetica,sans-Serif" font-size="9.00">App.tsx</text>
</a>
</g>
</g>
<!-- src/components/index.ts -->
<g id="node2" class="node">
<title>src/components/index.ts</title>
<g id="a_node2"><a xlink:href="https://github.com/TakanoriOnuma/trial-dependency-cruiser/blob/main/src/components/index.ts" xlink:title="index.ts">
<path fill="#ddfeff" stroke="black" d="M232.83,-131.88C232.83,-131.88 190.67,-131.88 190.67,-131.88 187.71,-131.88 184.75,-128.92 184.75,-125.96 184.75,-125.96 184.75,-120.04 184.75,-120.04 184.75,-117.08 187.71,-114.12 190.67,-114.12 190.67,-114.12 232.83,-114.12 232.83,-114.12 235.79,-114.12 238.75,-117.08 238.75,-120.04 238.75,-120.04 238.75,-125.96 238.75,-125.96 238.75,-128.92 235.79,-131.88 232.83,-131.88"/>
<text text-anchor="start" x="196" y="-119.33" font-family="Helvetica,sans-Serif" font-size="9.00">index.ts</text>
</a>
</g>
</g>
<!-- src/App.tsx&#45;&gt;src/components/index.ts -->
<g id="edge1" class="edge">
<title>src/App.tsx&#45;&gt;src/components/index.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M137.47,-123C149.17,-123 163.1,-123 175.66,-123"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="175.48,-125.1 181.48,-123 175.48,-120.9 175.48,-125.1"/>
</g>
<!-- src/components/OperandButton/index.ts -->
<g id="node5" class="node">
<title>src/components/OperandButton/index.ts</title>
<g id="a_node5"><a xlink:href="https://github.com/TakanoriOnuma/trial-dependency-cruiser/blob/main/src/components/OperandButton/index.ts" xlink:title="index.ts">
<path fill="#ddfeff" stroke="black" d="M761.58,-84.88C761.58,-84.88 719.42,-84.88 719.42,-84.88 716.46,-84.88 713.5,-81.92 713.5,-78.96 713.5,-78.96 713.5,-73.04 713.5,-73.04 713.5,-70.08 716.46,-67.12 719.42,-67.12 719.42,-67.12 761.58,-67.12 761.58,-67.12 764.54,-67.12 767.5,-70.08 767.5,-73.04 767.5,-73.04 767.5,-78.96 767.5,-78.96 767.5,-81.92 764.54,-84.88 761.58,-84.88"/>
<text text-anchor="start" x="724.75" y="-72.33" font-family="Helvetica,sans-Serif" font-size="9.00">index.ts</text>
</a>
</g>
</g>
<!-- src/components/index.ts&#45;&gt;src/components/OperandButton/index.ts -->
<g id="edge13" class="edge">
<title>src/components/index.ts&#45;&gt;src/components/OperandButton/index.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M239.13,-124.13C282.1,-125.87 369.87,-129 444.25,-129 444.25,-129 444.25,-129 558.62,-129 620.4,-129 641.67,-149.45 697.5,-123 711.19,-116.52 722.35,-103.31 729.72,-92.54"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="731.28,-93.99 732.76,-87.8 727.75,-91.72 731.28,-93.99"/>
</g>
<!-- src/components/Counter/index.ts -->
<g id="node6" class="node">
<title>src/components/Counter/index.ts</title>
<g id="a_node6"><a xlink:href="https://github.com/TakanoriOnuma/trial-dependency-cruiser/blob/main/src/components/Counter/index.ts" xlink:title="index.ts">
<path fill="#ddfeff" stroke="black" d="M578.71,-93.88C578.71,-93.88 536.54,-93.88 536.54,-93.88 533.58,-93.88 530.62,-90.92 530.62,-87.96 530.62,-87.96 530.62,-82.04 530.62,-82.04 530.62,-79.08 533.58,-76.12 536.54,-76.12 536.54,-76.12 578.71,-76.12 578.71,-76.12 581.67,-76.12 584.62,-79.08 584.62,-82.04 584.62,-82.04 584.62,-87.96 584.62,-87.96 584.62,-90.92 581.67,-93.88 578.71,-93.88"/>
<text text-anchor="start" x="541.88" y="-81.33" font-family="Helvetica,sans-Serif" font-size="9.00">index.ts</text>
</a>
</g>
</g>
<!-- src/components/index.ts&#45;&gt;src/components/Counter/index.ts -->
<g id="edge11" class="edge">
<title>src/components/index.ts&#45;&gt;src/components/Counter/index.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M238.85,-122.98C304.62,-122.76 473.52,-121.02 495.75,-109 501.07,-106.12 498.73,-101.37 503.75,-98 509.14,-94.38 515.46,-91.76 521.8,-89.87"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="522.14,-91.95 527.46,-88.46 521.13,-87.88 522.14,-91.95"/>
</g>
<!-- src/components/LocalCounter/index.ts -->
<g id="node11" class="node">
<title>src/components/LocalCounter/index.ts</title>
<g id="a_node11"><a xlink:href="https://github.com/TakanoriOnuma/trial-dependency-cruiser/blob/main/src/components/LocalCounter/index.ts" xlink:title="index.ts">
<path fill="#ddfeff" stroke="black" d="M353.71,-79.88C353.71,-79.88 311.54,-79.88 311.54,-79.88 308.58,-79.88 305.62,-76.92 305.62,-73.96 305.62,-73.96 305.62,-68.04 305.62,-68.04 305.62,-65.08 308.58,-62.12 311.54,-62.12 311.54,-62.12 353.71,-62.12 353.71,-62.12 356.67,-62.12 359.62,-65.08 359.62,-68.04 359.62,-68.04 359.62,-73.96 359.62,-73.96 359.62,-76.92 356.67,-79.88 353.71,-79.88"/>
<text text-anchor="start" x="316.88" y="-67.33" font-family="Helvetica,sans-Serif" font-size="9.00">index.ts</text>
</a>
</g>
</g>
<!-- src/components/index.ts&#45;&gt;src/components/LocalCounter/index.ts -->
<g id="edge12" class="edge">
<title>src/components/index.ts&#45;&gt;src/components/LocalCounter/index.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M239.18,-119.73C247.33,-117.69 255.89,-114.38 262.5,-109 272.22,-101.1 265.6,-91.67 275.5,-84 281.58,-79.29 289.07,-76.23 296.58,-74.27"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="296.92,-76.34 302.35,-73.05 296.05,-72.23 296.92,-76.34"/>
</g>
<!-- src/components/Counter/Counter.stories.tsx -->
<g id="node3" class="node">
<title>src/components/Counter/Counter.stories.tsx</title>
<g id="a_node3"><a xlink:href="https://github.com/TakanoriOnuma/trial-dependency-cruiser/blob/main/src/components/Counter/Counter.stories.tsx" xlink:title="Counter.stories.tsx">
<path fill="#bbfeff" stroke="black" d="M597.58,-63.88C597.58,-63.88 517.67,-63.88 517.67,-63.88 514.71,-63.88 511.75,-60.92 511.75,-57.96 511.75,-57.96 511.75,-52.04 511.75,-52.04 511.75,-49.08 514.71,-46.12 517.67,-46.12 517.67,-46.12 597.58,-46.12 597.58,-46.12 600.54,-46.12 603.5,-49.08 603.5,-52.04 603.5,-52.04 603.5,-57.96 603.5,-57.96 603.5,-60.92 600.54,-63.88 597.58,-63.88"/>
<text text-anchor="start" x="519.75" y="-51.33" font-family="Helvetica,sans-Serif" font-size="9.00">Counter.stories.tsx</text>
</a>
</g>
</g>
<!-- src/components/Counter/Counter.tsx -->
<g id="node4" class="node">
<title>src/components/Counter/Counter.tsx</title>
<g id="a_node4"><a xlink:href="https://github.com/TakanoriOnuma/trial-dependency-cruiser/blob/main/src/components/Counter/Counter.tsx" xlink:title="Counter.tsx">
<path fill="#bbfeff" stroke="black" d="M678.33,-63.88C678.33,-63.88 627.67,-63.88 627.67,-63.88 624.71,-63.88 621.75,-60.92 621.75,-57.96 621.75,-57.96 621.75,-52.04 621.75,-52.04 621.75,-49.08 624.71,-46.12 627.67,-46.12 627.67,-46.12 678.33,-46.12 678.33,-46.12 681.29,-46.12 684.25,-49.08 684.25,-52.04 684.25,-52.04 684.25,-57.96 684.25,-57.96 684.25,-60.92 681.29,-63.88 678.33,-63.88"/>
<text text-anchor="start" x="629.75" y="-51.33" font-family="Helvetica,sans-Serif" font-size="9.00">Counter.tsx</text>
</a>
</g>
</g>
<!-- src/components/Counter/Counter.stories.tsx&#45;&gt;src/components/Counter/Counter.tsx -->
<g id="edge2" class="edge">
<title>src/components/Counter/Counter.stories.tsx&#45;&gt;src/components/Counter/Counter.tsx</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M603.94,-55C606.83,-55 609.71,-55 612.56,-55"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="612.46,-57.1 618.46,-55 612.46,-52.9 612.46,-57.1"/>
</g>
<!-- src/components/Counter/Counter.tsx&#45;&gt;src/components/OperandButton/index.ts -->
<g id="edge3" class="edge">
<title>src/components/Counter/Counter.tsx&#45;&gt;src/components/OperandButton/index.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M684.38,-62.46C691,-64.09 698.05,-65.82 704.81,-67.48"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="703.91,-69.42 710.24,-68.81 704.92,-65.34 703.91,-69.42"/>
</g>
<!-- src/components/OperandButton/OperandButton.tsx -->
<g id="node12" class="node">
<title>src/components/OperandButton/OperandButton.tsx</title>
<g id="a_node12"><a xlink:href="https://github.com/TakanoriOnuma/trial-dependency-cruiser/blob/main/src/components/OperandButton/OperandButton.tsx" xlink:title="OperandButton.tsx">
<path fill="#bbfeff" stroke="black" d="M866.33,-84.88C866.33,-84.88 786.42,-84.88 786.42,-84.88 783.46,-84.88 780.5,-81.92 780.5,-78.96 780.5,-78.96 780.5,-73.04 780.5,-73.04 780.5,-70.08 783.46,-67.12 786.42,-67.12 786.42,-67.12 866.33,-67.12 866.33,-67.12 869.29,-67.12 872.25,-70.08 872.25,-73.04 872.25,-73.04 872.25,-78.96 872.25,-78.96 872.25,-81.92 869.29,-84.88 866.33,-84.88"/>
<text text-anchor="start" x="788.5" y="-72.33" font-family="Helvetica,sans-Serif" font-size="9.00">OperandButton.tsx</text>
</a>
</g>
</g>
<!-- src/components/OperandButton/index.ts&#45;&gt;src/components/OperandButton/OperandButton.tsx -->
<g id="edge10" class="edge">
<title>src/components/OperandButton/index.ts&#45;&gt;src/components/OperandButton/OperandButton.tsx</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M767.58,-76C768.84,-76 770.13,-76 771.43,-76"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="771.18,-78.1 777.18,-76 771.18,-73.9 771.18,-78.1"/>
</g>
<!-- src/components/Counter/index.ts&#45;&gt;src/components/Counter/Counter.tsx -->
<g id="edge4" class="edge">
<title>src/components/Counter/index.ts&#45;&gt;src/components/Counter/Counter.tsx</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M584.64,-76.64C593.82,-73.69 604.34,-70.31 614.29,-67.12"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="614.89,-69.13 619.96,-65.29 613.61,-65.13 614.89,-69.13"/>
</g>
<!-- src/components/Counter/useCounter.ts -->
<g id="node7" class="node">
<title>src/components/Counter/useCounter.ts</title>
<g id="a_node7"><a xlink:href="https://github.com/TakanoriOnuma/trial-dependency-cruiser/blob/main/src/components/Counter/useCounter.ts" xlink:title="useCounter.ts">
<path fill="#ddfeff" stroke="black" d="M683.58,-93.88C683.58,-93.88 622.42,-93.88 622.42,-93.88 619.46,-93.88 616.5,-90.92 616.5,-87.96 616.5,-87.96 616.5,-82.04 616.5,-82.04 616.5,-79.08 619.46,-76.12 622.42,-76.12 622.42,-76.12 683.58,-76.12 683.58,-76.12 686.54,-76.12 689.5,-79.08 689.5,-82.04 689.5,-82.04 689.5,-87.96 689.5,-87.96 689.5,-90.92 686.54,-93.88 683.58,-93.88"/>
<text text-anchor="start" x="624.5" y="-81.33" font-family="Helvetica,sans-Serif" font-size="9.00">useCounter.ts</text>
</a>
</g>
</g>
<!-- src/components/Counter/index.ts&#45;&gt;src/components/Counter/useCounter.ts -->
<g id="edge5" class="edge">
<title>src/components/Counter/index.ts&#45;&gt;src/components/Counter/useCounter.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M584.64,-85C591.62,-85 599.37,-85 607.06,-85"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="606.98,-87.1 612.98,-85 606.98,-82.9 606.98,-87.1"/>
</g>
<!-- src/components/LocalCounter/LocalCounter.stories.tsx -->
<g id="node8" class="node">
<title>src/components/LocalCounter/LocalCounter.stories.tsx</title>
<g id="a_node8"><a xlink:href="https://github.com/TakanoriOnuma/trial-dependency-cruiser/blob/main/src/components/LocalCounter/LocalCounter.stories.tsx" xlink:title="LocalCounter.stories.tsx">
<path fill="#bbfeff" stroke="black" d="M383.83,-49.88C383.83,-49.88 281.42,-49.88 281.42,-49.88 278.46,-49.88 275.5,-46.92 275.5,-43.96 275.5,-43.96 275.5,-38.04 275.5,-38.04 275.5,-35.08 278.46,-32.12 281.42,-32.12 281.42,-32.12 383.83,-32.12 383.83,-32.12 386.79,-32.12 389.75,-35.08 389.75,-38.04 389.75,-38.04 389.75,-43.96 389.75,-43.96 389.75,-46.92 386.79,-49.88 383.83,-49.88"/>
<text text-anchor="start" x="283.5" y="-37.33" font-family="Helvetica,sans-Serif" font-size="9.00">LocalCounter.stories.tsx</text>
</a>
</g>
</g>
<!-- src/components/LocalCounter/LocalCounter.tsx -->
<g id="node9" class="node">
<title>src/components/LocalCounter/LocalCounter.tsx</title>
<g id="a_node9"><a xlink:href="https://github.com/TakanoriOnuma/trial-dependency-cruiser/blob/main/src/components/LocalCounter/LocalCounter.tsx" xlink:title="LocalCounter.tsx">
<path fill="#bbfeff" stroke="black" d="M481.83,-79.88C481.83,-79.88 408.67,-79.88 408.67,-79.88 405.71,-79.88 402.75,-76.92 402.75,-73.96 402.75,-73.96 402.75,-68.04 402.75,-68.04 402.75,-65.08 405.71,-62.12 408.67,-62.12 408.67,-62.12 481.83,-62.12 481.83,-62.12 484.79,-62.12 487.75,-65.08 487.75,-68.04 487.75,-68.04 487.75,-73.96 487.75,-73.96 487.75,-76.92 484.79,-79.88 481.83,-79.88"/>
<text text-anchor="start" x="410.75" y="-67.33" font-family="Helvetica,sans-Serif" font-size="9.00">LocalCounter.tsx</text>
</a>
</g>
</g>
<!-- src/components/LocalCounter/LocalCounter.stories.tsx&#45;&gt;src/components/LocalCounter/LocalCounter.tsx -->
<g id="edge6" class="edge">
<title>src/components/LocalCounter/LocalCounter.stories.tsx&#45;&gt;src/components/LocalCounter/LocalCounter.tsx</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M368.66,-50.32C375.65,-52.19 382.94,-54.15 389.75,-56 393.74,-57.08 397.9,-58.22 402.06,-59.35"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="401.28,-61.32 407.62,-60.88 402.39,-57.27 401.28,-61.32"/>
</g>
<!-- src/components/LocalCounter/LocalCounter.tsx&#45;&gt;src/components/Counter/index.ts -->
<g id="edge8" class="edge">
<title>src/components/LocalCounter/LocalCounter.tsx&#45;&gt;src/components/Counter/index.ts</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M487.98,-76.29C499.04,-77.7 510.88,-79.2 521.55,-80.55"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="520.98,-82.6 527.19,-81.27 521.51,-78.43 520.98,-82.6"/>
</g>
<!-- src/components/LocalCounter/LocalCounter.test.tsx -->
<g id="node10" class="node">
<title>src/components/LocalCounter/LocalCounter.test.tsx</title>
<g id="a_node10"><a xlink:href="https://github.com/TakanoriOnuma/trial-dependency-cruiser/blob/main/src/components/LocalCounter/LocalCounter.test.tsx" xlink:title="LocalCounter.test.tsx">
<path fill="#bbfeff" stroke="black" d="M256.58,-49.88C256.58,-49.88 166.92,-49.88 166.92,-49.88 163.96,-49.88 161,-46.92 161,-43.96 161,-43.96 161,-38.04 161,-38.04 161,-35.08 163.96,-32.12 166.92,-32.12 166.92,-32.12 256.58,-32.12 256.58,-32.12 259.54,-32.12 262.5,-35.08 262.5,-38.04 262.5,-38.04 262.5,-43.96 262.5,-43.96 262.5,-46.92 259.54,-49.88 256.58,-49.88"/>
<text text-anchor="start" x="169" y="-37.33" font-family="Helvetica,sans-Serif" font-size="9.00">LocalCounter.test.tsx</text>
</a>
</g>
</g>
<!-- src/components/LocalCounter/LocalCounter.test.tsx&#45;&gt;src/components/LocalCounter/LocalCounter.stories.tsx -->
<g id="edge7" class="edge">
<title>src/components/LocalCounter/LocalCounter.test.tsx&#45;&gt;src/components/LocalCounter/LocalCounter.stories.tsx</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M262.82,-41C263.96,-41 265.11,-41 266.26,-41"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="266.08,-43.1 272.08,-41 266.08,-38.9 266.08,-43.1"/>
</g>
<!-- src/components/LocalCounter/index.ts&#45;&gt;src/components/LocalCounter/LocalCounter.tsx -->
<g id="edge9" class="edge">
<title>src/components/LocalCounter/index.ts&#45;&gt;src/components/LocalCounter/LocalCounter.tsx</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M360.12,-71C370.21,-71 382.07,-71 393.65,-71"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="393.39,-73.1 399.39,-71 393.39,-68.9 393.39,-73.1"/>
</g>
<!-- src/main.tsx -->
<g id="node13" class="node">
<title>src/main.tsx</title>
<g id="a_node13"><a xlink:href="https://github.com/TakanoriOnuma/trial-dependency-cruiser/blob/main/src/main.tsx" xlink:title="main.tsx">
<path fill="#bbfeff" stroke="black" d="M64.08,-131.88C64.08,-131.88 21.92,-131.88 21.92,-131.88 18.96,-131.88 16,-128.92 16,-125.96 16,-125.96 16,-120.04 16,-120.04 16,-117.08 18.96,-114.12 21.92,-114.12 21.92,-114.12 64.08,-114.12 64.08,-114.12 67.04,-114.12 70,-117.08 70,-120.04 70,-120.04 70,-125.96 70,-125.96 70,-128.92 67.04,-131.88 64.08,-131.88"/>
<text text-anchor="start" x="26.12" y="-119.33" font-family="Helvetica,sans-Serif" font-size="9.00">main.tsx</text>
</a>
</g>
</g>
<!-- src/main.tsx&#45;&gt;src/App.tsx -->
<g id="edge14" class="edge">
<title>src/main.tsx&#45;&gt;src/App.tsx</title>
<path fill="none" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" d="M70.44,-123C71.58,-123 72.74,-123 73.9,-123"/>
<polygon fill="#000000" fill-opacity="0.200000" stroke="#000000" stroke-width="2" stroke-opacity="0.200000" points="73.77,-125.1 79.77,-123 73.77,-120.9 73.77,-125.1"/>
</g>
</g>
</svg>
    <script>
      var gMode = new Mode();

var title2ElementMap = (function makeElementMap() {
  /** @type {NodeListOf<SVGGElement>} */
  var nodes = document.querySelectorAll(".node");
  /** @type {NodeListOf<SVGGElement>} */
  var edges = document.querySelectorAll(".edge");
  return new Title2ElementMap(edges, nodes);
})();

function getHoverHandler(pTitle2ElementMap) {
  /** @type {string} */
  var currentHighlightedTitle = "";

  /** @param {MouseEvent} pMouseEvent */
  return function hoverHighlightHandler(pMouseEvent) {
    var closestNodeOrEdge = pMouseEvent.target.closest(".edge, .node");
    var closestTitleText = getTitleText(closestNodeOrEdge);

    if (
      !(currentHighlightedTitle === closestTitleText) &&
      gMode.get() === gMode.HOVER
    ) {
      resetNodesAndEdges();
      addHighlight(closestNodeOrEdge);
      pTitle2ElementMap.get(closestTitleText).forEach(addHighlight);
      currentHighlightedTitle = closestTitleText;
    }
  };
}

function getSelectHandler(pTitle2ElementMap) {
  /** @type {string} */
  var currentHighlightedTitle = "";

  /** @param {MouseEvent} pMouseEvent */
  return function selectHighlightHandler(pMouseEvent) {
    pMouseEvent.preventDefault();

    var closestNodeOrEdge = pMouseEvent.target.closest(".edge, .node");
    var closestTitleText = getTitleText(closestNodeOrEdge);

    if (!!closestNodeOrEdge) {
      gMode.setToSelect();
    } else {
      gMode.setToHover();
    }
    if (!(currentHighlightedTitle === closestTitleText)) {
      resetNodesAndEdges();
      addHighlight(closestNodeOrEdge);
      pTitle2ElementMap.get(closestTitleText).forEach(addHighlight);
      currentHighlightedTitle = closestTitleText;
    }
  };
}
function Mode() {
  var HOVER = 1;
  var SELECT = 2;

  function setToHover() {
    this._mode = HOVER;
  }
  function setToSelect() {
    this._mode = SELECT;
  }

  /**
   * @returns {number}
   */
  function get() {
    return this._mode || HOVER;
  }

  return {
    HOVER: HOVER,
    SELECT: SELECT,
    setToHover: setToHover,
    setToSelect: setToSelect,
    get: get,
  };
}

/**
 *
 * @param {SVGGelement[]} pEdges
 * @param {SVGGElement[]} pNodes
 * @return {{get: (pTitleText:string) => SVGGElement[]}}
 */
function Title2ElementMap(pEdges, pNodes) {
  /* {{[key: string]: SVGGElement[]}} */
  var elementMap = buildMap(pEdges, pNodes);

  /**
   * @param {NodeListOf<SVGGElement>} pEdges
   * @param {NodeListOf<SVGGElement>} pNodes
   * @return {{[key: string]: SVGGElement[]}}
   */
  function buildMap(pEdges, pNodes) {
    var title2NodeMap = buildTitle2NodeMap(pNodes);

    return nodeListToArray(pEdges).reduce(addEdgeToMap(title2NodeMap), {});
  }
  /**
   * @param {NodeListOf<SVGGElement>} pNodes
   * @return {{[key: string]: SVGGElement}}
   */
  function buildTitle2NodeMap(pNodes) {
    return nodeListToArray(pNodes).reduce(addNodeToMap, {});
  }

  function addNodeToMap(pMap, pNode) {
    var titleText = getTitleText(pNode);

    if (titleText) {
      pMap[titleText] = pNode;
    }
    return pMap;
  }

  function addEdgeToMap(pNodeMap) {
    return function (pEdgeMap, pEdge) {
      /** @type {string} */
      var titleText = getTitleText(pEdge);

      if (titleText) {
        var edge = pryEdgeFromTitle(titleText);

        pEdgeMap[titleText] = [pNodeMap[edge.from], pNodeMap[edge.to]];
        (pEdgeMap[edge.from] || (pEdgeMap[edge.from] = [])).push(pEdge);
        (pEdgeMap[edge.to] || (pEdgeMap[edge.to] = [])).push(pEdge);
      }
      return pEdgeMap;
    };
  }

  /**
   *
   * @param {string} pString
   * @return {{from?: string; to?:string;}}
   */
  function pryEdgeFromTitle(pString) {
    var nodeNames = pString.split(/\s*->\s*/);

    return {
      from: nodeNames.shift(),
      to: nodeNames.shift(),
    };
  }
  /**
   *
   * @param {string} pTitleText
   * @return {SVGGElement[]}
   */
  function get(pTitleText) {
    return (pTitleText && elementMap[pTitleText]) || [];
  }
  return {
    get: get,
  };
}

/**
 * @param {SVGGElement} pGElement
 * @return {string?}
 */
function getTitleText(pGElement) {
  /** @type {SVGTitleElement} */
  var title = pGElement && pGElement.querySelector("title");
  /** @type {string} */
  var titleText = title && title.textContent;

  if (titleText) {
    titleText = titleText.trim();
  }
  return titleText;
}

/**
 * @param {NodeListOf<Element>} pNodeList
 * @return {Element[]}
 */
function nodeListToArray(pNodeList) {
  var lReturnValue = [];

  pNodeList.forEach(function (pElement) {
    lReturnValue.push(pElement);
  });

  return lReturnValue;
}

function resetNodesAndEdges() {
  nodeListToArray(document.querySelectorAll(".current")).forEach(
    removeHighlight,
  );
}

/**
 * @param {SVGGElement} pGElement
 */
function removeHighlight(pGElement) {
  if (pGElement && pGElement.classList) {
    pGElement.classList.remove("current");
  }
}

/**
 * @param {SVGGElement} pGroup
 */
function addHighlight(pGroup) {
  if (pGroup && pGroup.classList) {
    pGroup.classList.add("current");
  }
}

var gHints = {
  HIDDEN: 1,
  SHOWN: 2,
  state: this.HIDDEN,
  show: function () {
    document.getElementById("hints").removeAttribute("style");
    gHints.state = gHints.SHOWN;
  },
  hide: function () {
    document.getElementById("hints").style = "display:none";
    gHints.state = gHints.HIDDEN;
  },
  toggle: function () {
    if ((gHints.state || gHints.HIDDEN) === gHints.HIDDEN) {
      gHints.show();
    } else {
      gHints.hide();
    }
  },
};

/** @param {KeyboardEvent} pKeyboardEvent */
function keyboardEventHandler(pKeyboardEvent) {
  if (pKeyboardEvent.key === "Escape") {
    resetNodesAndEdges();
    gMode.setToHover();
    gHints.hide();
  }
  if (pKeyboardEvent.key === "F1") {
    pKeyboardEvent.preventDefault();
    gHints.toggle();
  }
}

document.addEventListener("contextmenu", getSelectHandler(title2ElementMap));
document.addEventListener("mouseover", getHoverHandler(title2ElementMap));
document.addEventListener("keydown", keyboardEventHandler);
document.getElementById("close-hints").addEventListener("click", gHints.hide);
document.getElementById("button_help").addEventListener("click", gHints.toggle);
document.querySelector("svg").insertAdjacentHTML(
  "afterbegin",
  `<linearGradient id="edgeGradient">
      <stop offset="0%" stop-color="fuchsia"/>
      <stop offset="100%" stop-color="purple"/>
   </linearGradient>
  `,
);

// Add a small increment to the last value of the path to make gradients on
// horizontal paths work. Without them all browsers I tested with (firefox,
// chrome) do not render the gradient, but instead make the line transparent
// (or the color of the background, I haven't looked into it that deeply,
// but for the hack it doesn't matter which).
function skewLineABit(lDrawingInstructions) {
  var lLastValue = lDrawingInstructions.match(/(\d+\.?\d*)$/)[0];
  // Smaller values than .001 _should_ work as well, but don't in all
  // cases. Even this value is so small that it is not visible to the
  // human eye (tested with the two I have at my disposal).
  var lIncrement = 0.001;
  var lNewLastValue = parseFloat(lLastValue) + lIncrement;

  return lDrawingInstructions.replace(lLastValue, lNewLastValue);
}

nodeListToArray(document.querySelectorAll("path"))
  .filter(function (pElement) {
    return pElement.parentElement.classList.contains("edge");
  })
  .forEach(function (pElement) {
    pElement.attributes.d.value = skewLineABit(pElement.attributes.d.value);
  });

    </script>
  </body>
</html>
